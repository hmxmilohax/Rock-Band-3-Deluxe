<div align="center">

<img src="dependencies/images/header.gif" width="100%" alt="Header GIF">

## Feast your eyes on the biggest rhythm game mod of all time!

### With features like an FC indicator, custom track themes, an increased song limit, and many pro chart upgrades, *Rock Band 3 Deluxe* makes the experience as ultimate as possible!

### üëâ See [Full Feature List](https://github.com/hmxmilohax/rock-band-3-deluxe/blob/main/dependencies/features.md#features)

### üì• [Download Now!](#%EF%B8%8F-what-youll-need)

<br/>

<img src="dependencies/images/rb3dx.gif" width="100%" alt="RB3DX">

</div>
<br/>

# ‚úçÔ∏è What You'll Need

### Playing *Rock Band 3 Deluxe* requires these things:

- **A vanilla copy of Rock Band 3** for PS3 or Xbox 360.
    - The **USA** version is required for PS3 (`BLUS30463`).
- **For Console**: A modded/hacked PS3 or Xbox 360 and a way to transfer files to it. We recommend using FTP.
- **For PC**: A machine capable of running RPCS3. It should work just fine on most mid-range PCs.

<br/>

# üì• Downloads (v1.0)
![last updated:](https://img.shields.io/github/last-commit/hmxmilohax/rock-band-3-deluxe?label=last%20updated%3A)

***Rock Band 3 Deluxe receives frequent updates!***

*The updating process is the exact same as installing for the first time.*

### üì• [PlayStation 3](https://nightly.link/hmxmilohax/rock-band-3-deluxe/workflows/build/main/RB3DX-PS3.zip)

> Continue to: 
    - [Installing on RPCS3](#-installing-on-pc-via-rpcs3)
    - [Installing on PS3](#-installing-on-ps3)

### üì• [Xbox 360](https://nightly.link/hmxmilohax/rock-band-3-deluxe/workflows/build/main/RB3DX-Xbox.zip)

> Continue to: 
    - [Installing on Xbox 360](#-installing-on-xbox-360)
    - [Installing on Xbox Series X/S](#-installing-on-xbox-series-xs-xenia-canary-for-uwp)

<br/>

## Beta Versions
![last updated:](https://img.shields.io/github/last-commit/hmxmilohax/rock-band-3-deluxe/develop?label=last%20updated%3A)

***These are highly experimental and may contain bugs!***

### üì• [RB3DX Beta Builds](https://nightly.link/hmxmilohax/rock-band-3-deluxe/workflows/build/develop)

> Use these if you want to help us find bugs before releases are made.

<br/>

## [YARG](https://yarg.in/) Song Updates
![last updated:](https://img.shields.io/github/last-commit/hmxmilohax/rock-band-3-deluxe?label=last%20updated%3A)
### üì• [RB3DX Song Updates for YARG](https://nightly.link/hmxmilohax/rock-band-3-deluxe/workflows/build/main/RB3DX-YARG-Updates.zip)

> All included song updates and pro upgrades for use in YARG.

<br/>

# üì© How to Install

### Select your Platform of Choice

  - [**PC, via RPCS3**](#-installing-on-pc-via-rpcs3)
  - [**PlayStation 3**](#-installing-on-ps3)
  - [**Xbox 360**](#-installing-on-xbox-360)
  - [**Xbox Series X/S (Xenia UWP)**](#-installing-on-xbox-series-xs-xenia-canary-for-uwp)
<br/>

## üì© Installing on PC, via [RPCS3](https://rpcs3.net/)

> ***Before you start, check out the [Definitive RB3 PC Setup Guide](https://github.com/carlmylo/rb3-pc#readme)***. *This covers everything, from installing the base game, to setting up your instruments, and even playing online after the original servers shut down!*


### Download [***Rock Band 3 Deluxe***](https://nightly.link/hmxmilohax/rock-band-3-deluxe/workflows/build/main/RB3DX-PS3.zip)

* Extract the `.zip` file.

* **Drag and drop the `.pkg` file on top of the main RPCS3 window** to install it.
* Select `Yes` to confirm.

<img src="dependencies/images/rpcs3_dxpkg.png" alt="RPCS3 DX PKG">

### ‚úÖ ***Rock Band 3 Deluxe is now installed and ready to play!***

> *Rock on!*

<br/>

## üì© Installing on PS3

> ***Rock Band 3 Deluxe will work on all modded PS3 systems, CFW or HEN.***

### Download [***Rock Band 3 Deluxe***](https://nightly.link/hmxmilohax/rock-band-3-deluxe/workflows/build/main/RB3DX-PS3.zip)

* Extract the `.zip` file.

* Copy the `.pkg` file to the root of a ***FAT32 formatted*** USB drive.
* Remove it from your PC and **plug it in to the *far right* USB port on your PS3**.
* On the XMB, **navigate to `Package Manager > Install Package Files > Standard`**.
* **Install it** just like any other package.

<img src="dependencies/images/ps3_dxpkg.png" width="75%" alt="PS3 DX PKG">

### ‚úÖ ***Rock Band 3 Deluxe is now installed and ready to play!***

> *You can play the game using the original disc or via a backup on your hard drive. Rock on!*
>
> ***Note: Song title display customization and "Author Finder" are not available on PS3 Hardware.***

<br/>

## üì© Installing on Xbox 360

> ***Rock Band 3 Deluxe will work on all modded Xbox 360 systems, RGH or JTAG.***

* **Install your vanilla copy of *Rock Band 3*** to your console's hard drive.

  * We recommend that you **rename its `default.xex` to `default_vanilla.xex`**, just as a backup in case you ever want to go back to vanilla (for whatever reason).

### Download [***Rock Band 3 Deluxe***](https://nightly.link/hmxmilohax/rock-band-3-deluxe/workflows/build/main/RB3DX-Xbox.zip)
* Extract the `.zip` file.

* **Copy the contents of it to where you have *Rock Band 3* installed**, we recommend using FTP to do so.
* Select `Yes` to overwrite the files if it asks you to.

### ***Before you launch the game for the first time, we recommend that you...***

* **Disable any title updates** you may have for Rock Band 3 in Aurora.
    * *Rock Band 3 Deluxe* **rolls the latest one into its installation**.
* Clear your **song cache**.
    * In the dashboard, navigate to `System Settings > Storage > Rock Band 3` and **delete the song cache**.
* Clear your **system cache**.
    * In the dashboard, navigate to `System Settings > Storage` and **press `Y` to clear the system cache**.
* **Download the *Rock Band 3 Deluxe* cover art** in Aurora.
    * Hover over Rock Band 3 in your games list and **press `Y`**.
    * Scroll all the way down, then scroll left until you get to **`Download Cover`**.
    * **Download the one uploaded by `jnack`**, it should be all the way at the bottom.
    * You can also **rename the game in the list to *Rock Band 3 Deluxe*** if you so choose.

### ‚úÖ ***Rock Band 3 Deluxe is now installed and ready to play!***

> *Don't forget to clear your song cache! Rock on!*

<br/>

## üì© Installing on Xbox Series X/S ([Xenia Canary for UWP](https://github.com/SirMangler/xenia/releases))

> ***Rock Band 3 Deluxe will work on any Xbox Series X/S running in [Developer Mode](https://learn.microsoft.com/en-us/windows/uwp/xbox-apps/devkit-activation).***

* **Extract and copy your vanilla copy of *Rock Band 3*** to a USB drive.

  * We recommend that you **rename its `default.xex` to `default_vanilla.xex`**, just as a backup in case you ever want to go back to vanilla (for whatever reason).

### Download [***Rock Band 3 Deluxe***](https://nightly.link/hmxmilohax/rock-band-3-deluxe/workflows/build/main/RB3DX-Xbox.zip)
* Extract the `.zip` file.

* **Copy the contents of it over your vanilla copy of *Rock Band 3*.**
* Click `Yes` to overwrite the files if it asks you to.

### ***Before you launch the game for the first time, we recommend that you...***

* **Change the following settings** in your Xenia configuration.
    * Navigate to `xenia-canary.config.toml`.
        * Search for `apu_max_queued_frames` and set it to `3`.
        * Search for `allow_game_relative_writes` and set it to `true`.
        * Search for `writable_code_segments` and set it to `true`.
        * Search for `license_mask` and set it to `1`.
* **Enable Readback Resolve** in Xenia settings.
    * Navigate to settings in Xenia Canary.
    * Make sure `Readback Resolve` is checked.

### ‚úÖ ***Rock Band 3 Deluxe is now installed and ready to play!***

> *You can use the "Controller" menu in Deluxe Settings to select your desired controller type. Rock on!*

<br/>

## üì© Installing on Xenia (Advanced)

### *Not ready yet! We highly recommend you play on [RPCS3](#-installing-on-pc-via-rpcs3) instead!*

<br/>

# üî® Building (Advanced)

### Installing Python (Required)

* Head to the [**Python downloads**](https://www.python.org/downloads/), download and install Python (version 3.11 or later).
  * ***Select "Add python.exe to PATH"*** on the installer.

![Python PATH](dependencies/images/pythonpath.png)

### Initializing the Repo

* Go to the **[Releases](https://github.com/hmxmilohax/rock-band-3-deluxe/releases)** of this repo and **download `init_repo.py`**.
  * Make a new **empty** folder, **put `init_repo.py` in the folder, and run it**.
      * This will pull the repo for you and install all required dependencies. **This will take some time.**
      * You may have to run the script multiple times on Windows.

### ***The folder should look something like this once it's done:***

![Repo Folder](dependencies/images/repofolder.png)

### ‚úÖ ***The Rock Band 3 Deluxe repo is now set up!***

From here, you can make any personal modifications to the game or build it yourself.

#### Windows `*.bat` files.

* Navigate to `scripts` if you're on Windows.
  * Run the `build_` script for your platform of choice to build *Rock Band 3 Deluxe*.
  * Built contents will be in the `out` folder on the root of the repo.

#### Manual

* Navigate to the root of the repo in your shell of choice.

* Run the following commands:
  * `python3 dependencies/python/configure_build.py <platform>`
  * `dependencies/<os>/ninja`

* Built contents will be in the `out` folder on the root of the repo.

### ‚úÖ ***You have now built Rock Band 3 Deluxe!***

<br/>

## üé® Custom Textures

> By default, *Rock Band 3 Deluxe* contains a variety of custom textures, found in the `Deluxe Settings` menu in-game, as well as a way to import your own with relative ease.

### Importing Your Own Textures

*Follow [**Building (Advanced)**](#-building-advanced) first in order to properly follow this guide.*

* Copy any `.jpg`, `.png`, or `.bmp` file to the appropriate place in  `\_ark\dx\custom_textures\***\`.
* Re-build the game!

### ‚úÖ ***Your custom textures have been converted and will show up ingame!***

<br/>

# üñ•Ô∏è Dependencies

[Git for Windows](https://gitforwindows.org/) - CLI application to allow auto updating Deluxe repo files

[Dot Net 6.0 Runtime](https://dotnet.microsoft.com/en-us/download/dotnet/6.0/runtime) - Needed to run ArkHelper

[Python](https://www.python.org/downloads/) - For user script functionality (NOTE: 3.9 or newer is highly recommended!)

[Mackiloha](https://github.com/PikminGuts92/Mackiloha) - ArkHelper for building Deluxe - SuperFreq for building .bmp_xbox highway images

[swap_rb_art_bytes.py](https://github.com/PikminGuts92/re-notes/blob/master/scripts/swap_rb_art_bytes.py) - Python script for converting Xbox images to PS3

[dtab](https://github.com/mtolly/dtab) - For serializing `.dtb` script files
