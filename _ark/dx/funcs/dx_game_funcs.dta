{func
   dx_bot_overdrive_handler
   ;runs in beatmatcher, do not add log
   ;{dx_log_writer TRUE {sprint "func: dx_bot_overdrive_handler - Current Screen: " {ui current_screen} " - Gamemode: " $dx_gamemode}}
   ;{dx_log_writer TRUE
   ;   {sprintf "Executed - time: %.4fms"
   ;      {time
            {if {&& {== $dx_bot_overdrive dx_on} {! DX_ALL_BOTS_ENABLED}}
               {do
                  {set $dx_tmp FALSE}
                  {beatmatch foreach_active_player $player
                     {if {$player is_deploying} {set $dx_tmp TRUE}}
                  }
                  {if {&& {>= {beatmatch num_active_players} 1} $dx_bot_1}
                     {set $player {beatmatch active_player 0}}
                     {if $dx_tmp {$player deploy_if_possible}}
                     {if {>= {$player band_energy} 1} {$player deploy_if_possible}}
                  }
                  {if {&& {>= {beatmatch num_active_players} 2} $dx_bot_2}
                     {set $player {beatmatch active_player 1}}
                     {if $dx_tmp {$player deploy_if_possible}}
                     {if {>= {$player band_energy} 1} {$player deploy_if_possible}}
                  }
                  {if {&& {>= {beatmatch num_active_players} 3} $dx_bot_3}
                     {set $player {beatmatch active_player 2}}
                     {if $dx_tmp {$player deploy_if_possible}}
                     {if {>= {$player band_energy} 1} {$player deploy_if_possible}}
                  }
                  {if {&& {>= {beatmatch num_active_players} 4} $dx_bot_4}
                     {set $player {beatmatch active_player 3}}
                     {if $dx_tmp {$player deploy_if_possible}}
                     {if {>= {$player band_energy} 1} {$player deploy_if_possible}}
                  }
                  {if {&& {>= {beatmatch num_active_players} 5} $dx_bot_5}
                     {set $player {beatmatch active_player 4}}
                     {if $dx_tmp {$player deploy_if_possible}}
                     {if {>= {$player band_energy} 1} {$player deploy_if_possible}}
                  }
               }
            }
   ;      }
   ;   }
   ;}
}
{func
   dx_ms_to_time_str
   ($ms $colon)
   {if_else $colon
      {sprintf "%d:%02d" {int {mod {/ {/ $ms 1000.0} 60} 60}} {int {mod {/ $ms 1000.0} 60}}}
      {sprintf "%dm %ds" {int {mod {/ {/ $ms 1000.0} 60} 60}} {int {mod {/ $ms 1000.0} 60}}}
   }
}

{func
   dx_uptime
   {dx_passive_messenger_symbol {sprintf "RB3DX Uptime\n%s" {dx_ms_to_time_str {system_ms} FALSE}}}
   {dx_log_writer TRUE {sprintf "RB3DX Uptime\n%s" {dx_ms_to_time_str {system_ms} FALSE}}}
}